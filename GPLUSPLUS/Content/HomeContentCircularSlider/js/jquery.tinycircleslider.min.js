(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof exports=="object"?module.exports=n(require("jquery")):n(jQuery)})(function(n){function r(r,u){function ht(){return vt(),a.append(e.first().clone()).css("width",v.width*(e.length+1)),ct(),l(0),f.move(f.options.start,f.options.interval),f}function ct(){nt&&(r[0].ontouchstart=ot,r[0].ontouchmove=ft,r[0].ontouchend=b);s.bind("mousedown",ot);var t=function(t){return t.preventDefault(),t.stopImmediatePropagation(),f.stop(),f.move(n(this).attr("data-slide-index")),!1};nt&&r.delegate(".dot","touchstart",t);r.delegate(".dot","mousedown",t)}function lt(n){g=setTimeout(function(){f.move(f.slideCurrent+1,!0)},n?50:f.options.intervalTime)}function c(n){return n*(Math.PI/180)}function at(n){return n*180/Math.PI}function vt(){var t=document.createDocumentFragment();o.remove();e.each(function(i,r){var u=null,e=parseInt(n(r).attr("data-degrees"),10)||i*360/f.slidesTotal,s={top:-Math.cos(c(e))*f.options.radius+h.height/2-d.height/2,left:Math.sin(c(e))*f.options.radius+h.width/2-d.width/2};o.length>0&&(u=o.clone(),u.addClass(n(r).attr("data-classname")).css(s),t.appendChild(u[0]));f.dots.push({angle:e,slide:r,dot:u})});f.dots.sort(function(n,t){return n.angle-t.angle});n.each(f.dots,function(t,i){n(i.dot).length>0&&n(i.dot).addClass("dot-"+(t+1)).attr("data-slide-index",t).html("<span>"+(t+1)+"<\/span>")});r.append(t);o=r.find(".dot")}function tt(n,t){var i,r,u;return n>t?(i=n-t,r=-(t+360-n)):(i=n+360-t,r=-(t-n)),u=i<Math.abs(r)?i:r,[u,r,i]}function it(t){var i=9999,r=9999,u=9999,e=0,o=0,s=0;return n.each(f.dots,function(n,f){var h=tt(f.angle,t);Math.abs(h[0])<Math.abs(u)&&(u=h[0],s=n);Math.abs(h[1])<Math.abs(i)&&(i=h[1],e=n);Math.abs(h[2])<Math.abs(r)&&(r=h[2],o=n)}),[[s,e,o],[u,i,r]]}function rt(n){return n<0?360+n%-360:n%360}function w(n,t,i){var r=n,u=!1;Math.abs(n)>Math.abs(t)?(r=-t,u=!0):p?requestAnimationFrame(function(){w(r,t+n)}):st=setTimeout(function(){w(r,t+n,i*.9)},i);f.angleCurrent=rt(f.angleCurrent-r);l(f.angleCurrent,u)}function ut(n){return{x:y?n.targetTouches[0].pageX:n.pageX||n.clientX,y:y?n.targetTouches[0].pageY:n.pageY||n.clientY}}function ft(n){var t=r.offset(),i={left:ut(n).x-t.left-h.width/2,top:ut(n).y-t.top-h.height/2};return f.angleCurrent=rt(at(Math.atan2(i.left,-i.top))),p||l(f.angleCurrent),!1}function l(n,t){closestSlidesAndAngles=it(n);closestSlides=closestSlidesAndAngles[0];closestAngles=closestSlidesAndAngles[1];a.css("left",-(closestSlides[1]*v.width+Math.abs(closestAngles[1])*v.width/(Math.abs(closestAngles[1])+Math.abs(closestAngles[2]))));s.css({top:-Math.cos(c(n))*f.options.radius+(h.height/2-k.height/2),left:Math.sin(c(n))*f.options.radius+(h.width/2-k.width/2)});t&&r.trigger("move",[e[f.slideCurrent],f.slideCurrent])}function b(t){if(n(t.target).hasClass("dot"))return!1;f.dragging=!1;t.preventDefault();n(document).unbind("mousemove mouseup");s.unbind("mouseup");f.options.dotsHide&&o.stop(!0,!0).fadeOut("slow");f.options.dotsSnap&&f.move(it(f.angleCurrent)[0][0])}function et(){f.dragging&&(l(f.angleCurrent),requestAnimationFrame(function(){et()}))}function ot(t){if(t.preventDefault(),y=t.type=="touchstart",f.dragging=!0,n(t.target).hasClass("dot"))return!1;f.stop();n(document).mousemove(ft);n(document).mouseup(b);s.mouseup(b);f.options.dotsHide&&o.stop(!0,!0).fadeIn("slow");p&&et()}this.options=n.extend({},i,u);this._defaults=i;this._name=t;var f=this,yt=r.find(".viewport"),a=r.find(".overview"),e=a.children(),s=r.find(".thumb"),o=r.find(".dot"),pt=e.find("a"),h={width:r.outerWidth(!0),height:r.outerHeight(!0)},v={width:e.first().outerWidth(!0),height:e.first().outerHeight(!0)},k={width:s.outerWidth(!0),height:s.outerHeight(!0)},d={width:o.outerWidth(),height:o.outerHeight()},g=null,st=null,nt="ontouchstart"in window,y=!1,p="requestAnimationFrame"in window;return this.dots=[],this.slideCurrent=0,this.angleCurrent=0,this.slidesTotal=e.length,this.intervalActive=!1,this.start=function(n){return f.options.interval&&(f.intervalActive=!0,lt(n)),f},this.stop=function(){return f.intervalActive=!1,clearTimeout(g),f},this.move=function(n){var t=Math.max(0,isNaN(n)?f.slideCurrent:n);t>=f.slidesTotal&&(t=0);var r=f.dots[t]&&f.dots[t].angle,i=tt(r,f.angleCurrent)[0],u=i>0?-2:2;return f.slideCurrent=t,w(u,i,50),f.start(),f},ht()}var t="tinycircleslider",i={interval:!1,intervalTime:3500,dotsSnap:!1,dotsHide:!0,radius:140,start:0};n.fn[t]=function(i){return this.each(function(){n.data(this,"plugin_"+t)||n.data(this,"plugin_"+t,new r(n(this),i))})}});
/*
//# sourceMappingURL=jquery.tinycircleslider.min.js.map
*/